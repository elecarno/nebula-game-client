[gd_scene load_steps=13 format=2]

[ext_resource path="res://white_square.png" type="Texture" id=1]
[ext_resource path="res://effects/spotlight.png" type="Texture" id=2]
[ext_resource path="res://environment/tileset_one.tres" type="TileSet" id=3]
[ext_resource path="res://map.gd" type="Script" id=4]
[ext_resource path="res://environment/button_door.tscn" type="PackedScene" id=5]
[ext_resource path="res://environment/auto_door.tscn" type="PackedScene" id=6]
[ext_resource path="res://player/player.tscn" type="PackedScene" id=7]
[ext_resource path="res://ui/login_screen.gd" type="Script" id=8]
[ext_resource path="res://ui/playerstats.gd" type="Script" id=9]

[sub_resource type="Gradient" id=2]
offsets = PoolRealArray( 0, 0.0590717, 1 )
colors = PoolColorArray( 0, 0, 0, 1, 0.0549316, 0.0666142, 0.0976563, 1, 1, 1, 1, 1 )

[sub_resource type="GradientTexture" id=3]
gradient = SubResource( 2 )

[sub_resource type="Environment" id=1]
background_mode = 4
background_color = Color( 0.0196078, 0.0196078, 0.0196078, 1 )
tonemap_mode = 3
auto_exposure_max_luma = 3.2
glow_enabled = true
glow_levels/1 = true
glow_levels/3 = false
glow_levels/6 = true
glow_intensity = 0.1
glow_bloom = 0.1
glow_blend_mode = 1
glow_hdr_threshold = 1.2
glow_bicubic_upscale = true
adjustment_enabled = true
adjustment_color_correction = SubResource( 3 )

[node name="map" type="Node2D"]
script = ExtResource( 4 )

[node name="station" type="YSort" parent="."]
sort_enabled = false

[node name="ground_plane" type="Sprite" parent="station"]
modulate = Color( 0.247059, 0.247059, 0.247059, 1 )
position = Vector2( 219.5, 99.5 )
scale = Vector2( 33.6875, 24.6875 )
texture = ExtResource( 1 )

[node name="yellow_light" type="Light2D" parent="station"]
position = Vector2( 83, -5 )
texture = ExtResource( 2 )
offset = Vector2( -23, 6 )
texture_scale = 0.5
color = Color( 0.658824, 0.992157, 1, 1 )
energy = 1.5
shadow_enabled = true

[node name="button_door" parent="station" instance=ExtResource( 5 )]
position = Vector2( 56, 24 )
z_index = 1

[node name="auto_door" parent="station" instance=ExtResource( 6 )]
position = Vector2( 104, 24 )
z_index = 1

[node name="auto_door2" parent="station" instance=ExtResource( 6 )]
position = Vector2( 168, 88 )
z_index = 1

[node name="auto_door3" parent="station" instance=ExtResource( 6 )]
position = Vector2( 408, 56 )
rotation = -1.57079
z_index = 1

[node name="tilemap" type="TileMap" parent="."]
tile_set = ExtResource( 3 )
cell_size = Vector2( 16, 16 )
format = 1
tile_data = PoolIntArray( -393214, 0, 0, -393213, 0, 0, -393212, 0, 0, -393211, 0, 0, -393210, 0, 0, -393209, 0, 0, -327678, 0, 0, -327675, 3, 0, -327673, 0, 0, -262142, 0, 0, -262139, 3, 0, -262137, 0, 0, -196606, 0, 0, -196601, 0, 0, -65539, 0, 0, -65538, 0, 0, -65537, 0, 0, -131072, 0, 0, -131071, 0, 0, -131070, 0, 0, -131069, 2, 0, -131068, 2, 0, -131065, 0, 0, -131059, 0, 0, -131058, 0, 0, -131057, 0, 0, -131056, 0, 0, -131055, 0, 0, -131054, 0, 0, -131053, 0, 0, -131052, 0, 0, -131051, 0, 0, -131050, 0, 0, -3, 0, 0, -65529, 0, 0, -65523, 0, 0, -65520, 0, 0, -65517, 0, 0, -65514, 0, 0, 65533, 0, 0, 7, 0, 0, 13, 0, 0, 16, 0, 0, 19, 0, 0, 22, 0, 0, 131062, 0, 0, 131063, 2, 0, 131064, 2, 0, 131065, 2, 0, 131066, 2, 0, 131067, 2, 0, 131068, 2, 0, 131069, 0, 0, 131070, 0, 0, 131071, 0, 0, 65536, 0, 0, 65537, 0, 0, 65538, 0, 0, 65540, 0, 0, 65541, 0, 0, 65543, 0, 0, 65544, 0, 0, 65545, 0, 0, 65546, 0, 0, 65547, 0, 0, 65548, 0, 0, 65549, 0, 0, 65552, 0, 0, 65555, 0, 0, 65558, 0, 0, 65559, 0, 0, 65560, 0, 0, 65561, 0, 0, 65562, 0, 0, 65563, 0, 0, 65564, 0, 0, 131074, 0, 0, 131088, 0, 0, 131091, 0, 0, 131097, 0, 0, 131100, 0, 0, 196636, 0, 0, 262160, 0, 0, 262163, 0, 0, 262169, 0, 0, 262172, 0, 0, 327682, 0, 0, 327687, 0, 0, 327688, 0, 0, 327689, 0, 0, 327691, 0, 0, 327692, 0, 0, 327693, 0, 0, 327696, 0, 0, 327699, 0, 0, 327702, 0, 0, 327703, 0, 0, 327704, 0, 0, 327705, 0, 0, 327708, 0, 0, 458742, 0, 0, 458743, 2, 0, 458744, 2, 0, 458745, 2, 0, 458746, 2, 0, 458747, 2, 0, 458748, 2, 0, 458749, 2, 0, 458750, 0, 0, 458751, 0, 0, 393216, 0, 0, 393217, 0, 0, 393218, 0, 0, 393223, 0, 0, 393224, 0, 0, 393225, 0, 0, 393227, 0, 0, 393228, 0, 0, 393229, 0, 0, 393232, 0, 0, 393235, 0, 0, 393238, 0, 0, 393239, 0, 0, 393240, 0, 0, 393241, 0, 0, 393244, 0, 0, 524286, 0, 0, 458757, 0, 0, 458758, 0, 0, 458759, 0, 0, 458760, 0, 0, 458761, 0, 0, 458763, 0, 0, 458764, 0, 0, 458765, 0, 0, 458768, 0, 0, 458771, 0, 0, 458774, 0, 0, 458775, 0, 0, 458776, 0, 0, 458777, 0, 0, 458780, 0, 0, 589822, 0, 0, 524293, 0, 0, 524294, 0, 0, 524295, 0, 0, 524296, 0, 0, 524300, 0, 0, 524301, 0, 0, 524302, 0, 0, 524303, 0, 0, 524304, 0, 0, 524305, 0, 0, 524306, 0, 0, 524307, 0, 0, 524308, 0, 0, 524309, 0, 0, 524310, 0, 0, 524313, 0, 0, 524316, 0, 0, 655358, 0, 0, 589829, 0, 0, 589830, 0, 0, 589831, 0, 0, 589832, 0, 0, 589849, 0, 0, 589852, 0, 0, 720894, 0, 0, 720895, 0, 0, 655360, 0, 0, 655361, 0, 0, 655362, 0, 0, 655365, 0, 0, 655366, 0, 0, 655367, 0, 0, 655368, 0, 0, 655385, 0, 0, 655388, 0, 0, 720898, 0, 0, 720901, 0, 0, 720902, 0, 0, 720903, 0, 0, 720904, 0, 0, 720908, 0, 0, 720909, 0, 0, 720910, 0, 0, 720911, 0, 0, 720912, 0, 0, 720913, 0, 0, 720914, 0, 0, 720915, 0, 0, 720916, 0, 0, 720917, 0, 0, 720918, 0, 0, 720921, 0, 0, 720924, 0, 0, 786434, 0, 0, 786437, 0, 0, 786438, 0, 0, 786439, 0, 0, 786440, 0, 0, 786441, 0, 0, 786442, 0, 0, 786443, 0, 0, 786444, 0, 0, 786445, 0, 0, 786446, 0, 0, 786447, 0, 0, 786448, 0, 0, 786449, 0, 0, 786450, 0, 0, 786451, 0, 0, 786452, 0, 0, 786453, 0, 0, 786454, 0, 0, 786455, 0, 0, 786456, 0, 0, 786457, 0, 0, 786460, 0, 0, 851970, 0, 0, 851973, 0, 0, 851974, 0, 0, 851975, 0, 0, 851976, 0, 0, 851977, 0, 0, 851978, 0, 0, 851979, 0, 0, 851980, 0, 0, 851981, 0, 0, 851982, 0, 0, 851983, 0, 0, 851984, 0, 0, 851985, 0, 0, 851986, 0, 0, 851987, 0, 0, 851988, 0, 0, 851989, 0, 0, 851990, 0, 0, 851991, 0, 0, 851992, 0, 0, 851993, 0, 0, 851996, 0, 0, 917506, 0, 0, 917532, 0, 0, 983042, 0, 0, 983068, 0, 0, 1048578, 0, 0, 1048579, 0, 0, 1048580, 0, 0, 1048581, 0, 0, 1048582, 0, 0, 1048583, 0, 0, 1048584, 0, 0, 1048585, 0, 0, 1048586, 0, 0, 1048587, 0, 0, 1048588, 0, 0, 1048589, 0, 0, 1048590, 0, 0, 1048591, 0, 0, 1048592, 0, 0, 1048593, 0, 0, 1048594, 0, 0, 1048595, 0, 0, 1048596, 0, 0, 1048597, 0, 0, 1048598, 0, 0, 1048599, 0, 0, 1048600, 0, 0, 1048601, 0, 0, 1048602, 0, 0, 1048603, 0, 0, 1048604, 0, 0 )

[node name="player" parent="." instance=ExtResource( 7 )]

[node name="other_players" type="YSort" parent="."]

[node name="enemies" type="YSort" parent="."]

[node name="world_env" type="WorldEnvironment" parent="."]
environment = SubResource( 1 )

[node name="gui" type="CanvasLayer" parent="."]

[node name="clock" type="Label" parent="gui"]
anchor_left = 0.5
anchor_right = 0.5
margin_left = -156.0
margin_top = 23.0
margin_right = 156.0
margin_bottom = 37.0
align = 1
valign = 1

[node name="player_stats" type="Control" parent="gui"]
margin_right = 40.0
margin_bottom = 40.0
script = ExtResource( 9 )

[node name="stats_label" type="Label" parent="gui/player_stats"]
margin_left = 31.0
margin_top = 29.0
margin_right = 249.0
margin_bottom = 132.0
text = "Health: 0
Oxygen: 0
Hunger: 0"

[node name="login_system" type="Control" parent="gui"]
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource( 8 )

[node name="login_screen" type="VBoxContainer" parent="gui/login_system"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -133.0
margin_top = -53.0
margin_right = 133.0
margin_bottom = 53.0

[node name="username" type="LineEdit" parent="gui/login_system/login_screen"]
margin_right = 266.0
margin_bottom = 24.0
placeholder_text = "username"

[node name="password" type="LineEdit" parent="gui/login_system/login_screen"]
margin_top = 28.0
margin_right = 266.0
margin_bottom = 52.0
placeholder_text = "password"

[node name="login_button" type="Button" parent="gui/login_system/login_screen"]
margin_top = 56.0
margin_right = 266.0
margin_bottom = 76.0
text = "login"

[node name="create_acc_button" type="Button" parent="gui/login_system/login_screen"]
margin_top = 80.0
margin_right = 266.0
margin_bottom = 100.0
text = "create_acc"

[node name="create_acc" type="VBoxContainer" parent="gui/login_system"]
visible = false
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -133.0
margin_top = -54.0
margin_right = 133.0
margin_bottom = 137.0

[node name="create_username" type="LineEdit" parent="gui/login_system/create_acc"]
margin_right = 266.0
margin_bottom = 24.0
placeholder_text = "username"

[node name="create_password" type="LineEdit" parent="gui/login_system/create_acc"]
margin_top = 28.0
margin_right = 266.0
margin_bottom = 52.0
placeholder_text = "password"

[node name="create_password_repeat" type="LineEdit" parent="gui/login_system/create_acc"]
margin_top = 56.0
margin_right = 266.0
margin_bottom = 80.0
placeholder_text = "repeat password"

[node name="confirm_button" type="Button" parent="gui/login_system/create_acc"]
margin_top = 84.0
margin_right = 266.0
margin_bottom = 104.0
text = "create_acc"

[node name="back_button" type="Button" parent="gui/login_system/create_acc"]
margin_top = 108.0
margin_right = 266.0
margin_bottom = 128.0
text = "back"

[node name="alert_label" type="Label" parent="gui/login_system"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -583.0
margin_top = -83.0
margin_right = 581.0
margin_bottom = -60.0
rect_rotation = -0.00374462
align = 1

[connection signal="pressed" from="gui/login_system/login_screen/login_button" to="gui/login_system" method="_on_login_button_pressed"]
[connection signal="pressed" from="gui/login_system/login_screen/create_acc_button" to="gui/login_system" method="_on_create_acc_button_pressed"]
[connection signal="pressed" from="gui/login_system/create_acc/confirm_button" to="gui/login_system" method="_on_confirm_button_pressed"]
[connection signal="pressed" from="gui/login_system/create_acc/back_button" to="gui/login_system" method="_on_back_button_pressed"]
